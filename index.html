<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>日本旅行マップ</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>日本旅行マップ</h1>
            <p>行ったことのある場所を記録して、日本地図を塗りつぶそう！</p>
        </header>

        <div class="main-content">
            <div class="map-container">
                <div id="japan-map"></div>
            </div>
            
            <div class="sidebar">
                <div class="location-hierarchy">
                    <h2>場所を選択</h2>
                    <div class="hierarchy-selectors">
                        <select id="prefecture-select">
                            <option value="">都道府県を選択</option>
                        </select>
                        <select id="region-select" disabled>
                            <option value="">地域を選択</option>
                        </select>
                        <select id="city-select" disabled>
                            <option value="">市区町村を選択</option>
                        </select>
                        <select id="spot-select" disabled>
                            <option value="">観光スポットを選択</option>
                        </select>
                    </div>
                    <button id="mark-visited" disabled>訪問済みにする</button>
                </div>

                <div class="recommendations">
                    <h2>おすすめの旅行先</h2>
                    <div id="recommendation-list">
                        <p>まだ推奨する場所がありません。訪問した場所を登録してください。</p>
                    </div>
                </div>
                
                <div class="statistics">
                    <h2>訪問統計</h2>
                    <div id="stats">
                        <p>都道府県: <span id="prefecture-count">0</span>/47</p>
                        <p>地域: <span id="region-count">0</span>/<span id="total-regions">0</span></p>
                        <p>市区町村: <span id="city-count">0</span>/<span id="total-cities">0</span></p>
                        <p>観光スポット: <span id="spot-count">0</span>/<span id="total-spots">0</span></p>
                    </div>
                    <button id="reset-history" class="danger-button">訪問履歴をリセット</button>
                </div>
                
                <div class="visit-history">
                    <h2>訪問履歴</h2>
                    <div class="history-controls">
                        <button id="view-history">履歴を表示</button>
                    </div>
                    <div id="history-container" class="hidden">
                        <div class="history-filter">
                            <select id="history-filter">
                                <option value="all">すべて</option>
                                <option value="prefecture">都道府県</option>
                                <option value="region">地域</option>
                                <option value="city">市区町村</option>
                            </select>
                            <input type="text" id="history-search" placeholder="検索...">
                        </div>
                        <div id="history-list"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://unpkg.com/topojson@3"></script>
    <script src="js/japan-map.js"></script>
    <script src="js/data.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
